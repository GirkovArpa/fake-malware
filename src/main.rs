#![cfg_attr(not(debug_assertions), windows_subsystem = "windows")]

mod my_window;
use my_window::MyWindow;

fn main() {
    let answer = winsafe::HWND::GetDesktopWindow()
        .MessageBox(
            "Welcome to the Lion Den! Continue?",
            "Welcome to the Lion Den!",
            winsafe::co::MB::YESNO | winsafe::co::MB::ICONEXCLAMATION,
        )
        .unwrap();

    if answer == winsafe::co::DLGID::YES {
        winsafe::HWND::GetDesktopWindow()
        .MessageBox(
            "Fatal Error: \"run32dll.exe\" not found.",
            "Fatal Error",
            winsafe::co::MB::OK | winsafe::co::MB::ICONERROR,
        )
        .unwrap();

        let my_window = MyWindow::new();
        if let Err(e) = my_window.run() {
            eprintln!("{}", e);
        }
    }
  
}
